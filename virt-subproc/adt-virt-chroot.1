.TH adt\-run 1 2006 autopkgtest "Linux Programmer's Manual"
.SH NAME
adt\-virt\-chroot \- autopkgtest virtualisation server using a chroot
.SH SYNOPSYS
.B adt\-virt\-chroot
.RI [ options ]
.BR = [\fBchroot\-name\fR]
.br
.B adt\-virt\-chroot
.RI [ options ]
.RI [\fB\-r\fR gain\-root\-cmd ]
.I /path/to/chroot
.SH DESCRIPTION
.B adt\-virt\-chroot
provides an autopkgtest virtualisation server using a chroot install
(or similar).

Normally
.B adt\-virt\-chroot
will be invoked by
.BR adt\-run .

The chroot to use must be specified.  If it starts with a
.B =
character then it is taken to be a chroot name known to
.BR dchroot (8).
Otherwise it must start with a
.B /
and will be taken to an absolute path.
.SH OPTIONS
.TP
.BR \-\-gain\-root | \-r " \fIgain\-root\-cmd\fR"
Specifies that
.B adt\-virt\-chroot
can become root (on the host) by prefixing its commands with
.IR gain\-root\-cmd .
The command may consist of several words separated by whitespace,
in which case words other than the first are supplied as additional
arguments to the command; other shell (or other) metacharacters in 
.IR gain\-root\-cmd
are not interpreted or modified by
.BR adt\-virt\-chroot .
The actual command to be run as root, and
its arguments, are supplied as additional (separate) arguments to
.IR gain\-root\-cmd .

Root privilege is needed, to successfully run
.BR chroot (8),
if the chroot to use is specified as an absolute path.  The default is
not to take any special action when root will be needed, in which case
for an absolute path chroot,
.B adt\-virt\-chroot
must be started as root.
.TP
.BR \-d " | " \-\-debug
Enables debugging output.  Probably not hugely interesting.

.SH INPUT, OUTPUT AND EXIT STATUS
The behaviour of
.B adt\-virt\-chroot
is as described by the AutomatedTesting virtualisation regime
specification.

.SH SEE ALSO
\fBadt\-run\fR(1),
.br
.I "AutomatedTesting"
.RB ( https://wiki.ubuntu.com/AutomatedTesting )

.SH BUGS
This tool lacks flexibility, and also lacks features provided for by
the specification which would be useful for robust testing.

.SH AUTHORS AND COPYRIGHT
This manpage is part of autopkgtest, a tool for testing Debian binary
packages.  autopkgtest is Copyright (C) 2006 Canonical Ltd and others.

See \fB/usr/share/doc/autopkgtest/CREDITS\fR for the list of
contributors and full copying conditions.
